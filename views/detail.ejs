<!DOCTYPE html>
<html lang="en">
  <%- include("./partials/head.ejs") %>
  <body>
    <div class="container">
      <%- include("./partials/sidebar.ejs") %>
      <div class="content">
        <div class="main-content">
          <h2>Details</h2>
          <div class="detail-card">
            <% if (currentType === 'Artists') { %>
            <img src="<%= type[0].cover_url %>" alt="Album cover" />
            <div class="edit-delete-helper">
              <h3>Artist: <%= type[0].artist_name %></h3>
              <a href="/update/Artists/<%= type[0].artist_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <!-- <a href="/delete/Artists/<%= type[0].artist_id %>"
                ><i class="fa-solid fa-trash fa-2xl"></i
              ></a> -->
              <form
                action="/delete/Artists/<%= type[0].artist_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <h4>Albums:</h4>
            <ul>
              <% type.forEach(album => { %>
              <li>
                <strong>Title:</strong> <%= album.album_title %> <br />
                <strong>Release Date:</strong> <%=
                moment(album.album_release_date).format('MMMM Do, YYYY') %>
                <br />
                <strong>Genre:</strong> <%= album.genre_name %> <br />
                <strong>Label:</strong> <%= album.label_name %>
              </li>
              <% }); %>
            </ul>
            <% } else if (currentType === 'Albums') { %>
            <img src="<%= type[0].album_cover_url %>" alt="Artist Image" />
            <div class="edit-delete-helper">
              <h3>Album: <%= type[0].album_title %></h3>
              <a href="/update/Albums/<%= type[0].album_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <!-- <a href="/delete/Albums/<%= type[0].album_id %>"
                ><i class="fa-solid fa-trash fa-2xl"></i
              ></a> -->
              <form
                action="/delete/Albums/<%= type[0].album_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <p><strong>Artist:</strong> <%= type[0].artist_name %></p>
            <p>
              <strong>Release Date:</strong> <%=
              moment(type[0].album_release_date).format('MMMM Do, YYYY') %>
            </p>
            <p><strong>Genre:</strong> <%= type[0].genre_name %></p>
            <p><strong>Label:</strong> <%= type[0].label_name %></p>
            <% } else if (currentType === 'Genres') { %>
            <div class="edit-delete-helper">
              <h3>Genre: <%= type[0].genre_name %></h3>
              <a href="/update/Genres/<%= type[0].genre_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <!-- <a href="/delete/Genres/<%= type[0].genre_id %>"
                ><i class="fa-solid fa-trash fa-2xl"></i
              ></a> -->
              <form
                action="/delete/Genres/<%= type[0].genre_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <h4>Albums:</h4>
            <ul>
              <% type.forEach(album => { %>
              <li>
                <strong>Title:</strong> <%= album.album_title %> <br />
                <strong>Artist:</strong> <%= album.artist_name %> <br />
                <strong>Release Date:</strong> <%=
                moment(album.album_release_date).format('MMMM Do, YYYY') %>
                <br />
                <strong>Label:</strong> <%= album.label_name %>
              </li>
              <% }); %>
            </ul>
            <% } else if (currentType === 'Labels') { %>
            <div class="edit-delete-helper">
              <h3>Label: <%= type[0].label_name %></h3>
              <a href="/update/Labels/<%= type[0].label_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <!-- <a href="/delete/Labels/<%= type[0].label_id %>"
                ><i class="fa-solid fa-trash fa-2xl"></i
              ></a> -->
              <form
                action="/delete/Labels/<%= type[0].label_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <h4>Albums:</h4>
            <ul>
              <% type.forEach(album => { %>
              <li>
                <strong>Title:</strong> <%= album.album_title %> <br />
                <strong>Artist:</strong> <%= album.artist_name %> <br />
                <strong>Release Date:</strong> <%=
                moment(album.album_release_date).format('MMMM Do, YYYY') %>
                <br />
                <strong>Genre:</strong> <%= album.genre_name %>
              </li>
              <% }); %>
            </ul>
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
