<!DOCTYPE html>
<html lang="en">
  <%- include("./partials/head.ejs") %>
  <body>
    <div class="container">
      <%- include("./partials/sidebar.ejs") %>
      <div class="content">
        <div class="main-content">
          <h2>Details</h2>
          <div class="detail-card">
            <% if (currentType === 'Artists') { %>
            <img
              src="<%= type[0].cover_url ? type[0].cover_url : '/default-album-cover.png' %>"
              alt="Album cover"
              class="detail-card-img"
            />
            <div class="edit-delete-helper">
              <h3>Artist: <%= type[0].artist_name %></h3>
              <a href="/update/Artists/<%= type[0].artist_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <form
                action="/delete/Artists/<%= type[0].artist_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <h4>Albums:</h4>
            <div class="content-results">
              <% type.forEach(album => { %> <%-
              include('./partials/contentResultsCard', { album: album }) %> <%
              }); %>
            </div>

            <% } else if (currentType === 'Albums') { %>
            <img
              src="<%= type[0].album_cover_url ? type[0].album_cover_url : '/default-album-cover.png' %>"
              alt="Album cover"
              class="detail-card-img"
            />

            <div class="edit-delete-helper">
              <h3>Album: <%= type[0].album_title %></h3>
              <a href="/update/Albums/<%= type[0].album_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <form
                action="/delete/Albums/<%= type[0].album_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <p><strong>Artist:</strong> <%= type[0].artist_name %></p>
            <p>
              <strong>Release Date:</strong> <%=
              moment(type[0].album_release_date).format('MMMM Do, YYYY') %>
            </p>
            <p><strong>Genre:</strong> <%= type[0].genre_name %></p>
            <p><strong>Label:</strong> <%= type[0].label_name %></p>
            <% } else if (currentType === 'Genres') { %>
            <img
              src="<%= type[0].cover_url ? type[0].cover_url : '/default-album-cover.png' %>"
              alt="Album cover"
              class="detail-card-img"
            />
            <div class="edit-delete-helper">
              <h3>Genre: <%= type[0].genre_name %></h3>
              <a href="/update/Genres/<%= type[0].genre_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <form
                action="/delete/Genres/<%= type[0].genre_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <strong>Featured Track:</strong>
            <br />
            <br />

            <div class="content-results">
              <% type.forEach(album => { %> <%-
              include('./partials/contentResultsCard', { album: album }) %> <%
              }); %>
            </div>
            <% } else if (currentType === 'Labels') { %>
            <img
              src="<%= type[0].cover_url ? type[0].cover_url : '/default-album-cover.png' %>"
              alt="Album cover"
              class="detail-card-img"
            />
            <div class="edit-delete-helper">
              <h3>Label: <%= type[0].label_name %></h3>
              <a href="/update/Labels/<%= type[0].label_id %>"
                ><i class="fa-solid fa-pen fa-2xl"></i
              ></a>
              <form
                action="/delete/Labels/<%= type[0].label_id %>?_method=DELETE"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  style="background: none; border: none; padding: 0"
                >
                  <i class="fa-solid fa-trash fa-2xl"></i>
                </button>
              </form>
            </div>
            <div class="content-results">
              <% type.forEach(album => { %> <%-
              include('./partials/contentResultsCard', { album: album }) %> <%
              }); %>
            </div>
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
