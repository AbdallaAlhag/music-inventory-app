<!DOCTYPE html>
<html lang="en">
  <%- include("./partials/head.ejs") %>
  <body>
    <div class="container">
      <%- include("./partials/sidebar.ejs") %>
      <div class="content">
        <h3>Update</h3>
        <div class="create-card">
            <form
              action="/update/<%= type %>/<%= currentData.id %>"
              method="POST"
              class="styled-form"
            >
              <% if (type === 'Artist') { %>
              <div class="form-group">
                <label for="name">Full Name:</label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  value="<%= currentData.name %>"
                  required
                />
              </div>
              <% } else if (type === 'Album') { %>
              <div class="form-group">
                <label for="title">Title:</label>
                <input
                  type="text"
                  id="title"
                  name="title"
                  value=<%= currentData.title %>"
                  required
                />
              </div>
              <div class="form-group">
                <label for="cover_url">Cover url:</label>
                <input
                  type="text"
                  id="cover_url"
                  name="cover_url"
                  value="<%= currentData.cover_url %>"
                  required
                />
              </div>
              <div class="form-group">
                <label for="release_date">Release Date:</label>
                <input
                  type="date"
                  id="release_date"
                  name="release_date"
                  value="<%= currentData.release_date %>"
                  required
                />
              </div>
              <div class="drop-downs">
                <!-- Artists Dropdown -->
                <div class="form-group">
                  <label for="artist_id">Artist:</label>
                  <select id="artist_id" name="artist_id" required>
                    <% dropdownData.artists.forEach(artist => { %>
                      <option value="<%= artist.id %>" <%= artist.id === currentData.artist_id ? 'selected' : '' %>>
                        <%= artist.name %>
                      </option>
                    <% }); %>
                  </select>
                </div>
                <!-- Genres Dropdown -->
                <div class="form-group">
                  <label for="genre_id">Genre:</label>
                  <select id="genre_id" name="genre_id" required>
                    <% dropdownData.genres.forEach(genre => { %>
                      <option value="<%= genre.id %>" <%= genre.id === currentData.genre_id ? 'selected' : '' %>>
                        <%= genre.name %>
                      </option>
                    <% }); %>
                  </select>
                </div>
                <!-- Labels Dropdown -->
                <div class="form-group">
                  <label for="label_id">Label:</label>
                  <select id="label_id" name="label_id" required>
                    <% dropdownData.labels.forEach(label => { %>
                      <option value="<%= label.id %>" <%= label.id === currentData.label_id ? 'selected' : '' %>>
                        <%= label.name %>
                      </option>
                    <% }); %>
                  </select>
                </div>
              </div>
              <% } else if (type === 'Genre') { %>
              <div class="form-group">
                <label for="title">Title:</label>
                <input
                  type="text"
                  id="title"
                  name="title"
                  value="<%= currentData.title %>"
                  required
                />
              </div>
              <% } else if (type === 'Label') { %>
              <div class="form-group">
                <label for="label_name">Name:</label>
                <input
                  type="text"
                  id="label_name"
                  name="label_name"
                  value="<%= currentData.label_name %>"
                  required
                />
              </div>
              <% } %>
              <button type="submit" class="submit-btn">
                Update <%= type %>
              </button>
            </form>
        </div>
      </div>
    </div>
  </body>
</html>
